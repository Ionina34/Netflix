<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<div>
	<div layout:fragment="content">
		<h1>Рекомендуем:</h1>
		<hr>
		<div id="container-carusel" style="display: none"
			class="container-carusel">
			<div class="carousel__list">
				<ul th:each="film,state:${films}">
					<li><img th:id="${state.index}" class="carousel__item"
						th:src="'../images/'+${film.image}"></li>
				</ul>
			</div>
			<hr>
			<div th:each="film,state:${films}">
				<div th:id="${state.index}" th:class="containerText">
					<h2>
						<a id="more-info" th:href="@{/films/{id}(id=${film.id})}"
							th:text="${film.name}"></a>
					</h2>
					<div class="text description" th:text="${film.des}"></div>
					<table>
						<tr>
							<td th:class="title">Дата релиза:</td>
							<td
								th:text="${#temporals.format(film.release_date,'dd-MM-yyyy')}"></td>
						</tr>
						<tr>
							<td th:class="title">Продолжительность:</td>
							<td th:text="${film.length} +' мин.'">мин.</td>
						</tr>
					</table>
				</div>
			</div>
		</div>

		<div class="genre" th:each="genre,state: ${genres}">
			<div th:id="'wrapper-'+${state.count}">
				<h1 th:text="${genre.name}+':'"></h1>
				<div th:id="'carousel-'+${state.count}">
					<div th:id="'content-'+${state.count}">
						<div th:if="${state.count==1}" th:each="film: ${filmsByGenreOne}">
							<div class="card">
								<a id="more-info" th:href="@{/films/{id}(id=${film.id})}"> <img
									th:src="'../images/'+${film.image}" th:alt="${film.name}"
									class="item"></a> <a th:href="@{/films/{id}(id=${film.id})}"
									th:text="${film.name}"></a>
							</div>
						</div>
						<div th:if="${state.count==2}" th:each="film: ${filmsByGenreTwo}">
							<div class="card">
								<a id="more-info" th:href="@{/films/{id}(id=${film.id})}"> <img
									th:src="'../images/'+${film.image}" th:alt="${film.name}"
									class="item"></a> <a th:href="@{/films/{id}(id=${film.id})}"
									th:text="${film.name}"></a>
							</div>
						</div>
						<div th:if="${state.count==3}" th:each="film: ${filmsByGenreTree}">
							<div class="card">
								<a id="more-info" th:href="@{/films/{id}(id=${film.id})}"> <img
									th:src="'../images/'+${film.image}" th:alt="${film.name}"
									class="item"></a> <a th:href="@{/films/{id}(id=${film.id})}"
									th:text="${film.name}"></a>
							</div>
						</div>
					</div>
				</div>
				<button th:id="'prev-'+${state.count}">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
						viewBox="0 0 24 24">
                <path fill="none" d="M0 0h24v24H0V0z" />
                <path
							d="M15.61 7.41L14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z" />
            </svg>
				</button>
				<button th:id="'next-'+${state.count}">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
						viewBox="0 0 24 24">
                <path fill="none" d="M0 0h24v24H0V0z" />
                <path
							d="M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z" />
            </svg>
				</button>
			</div>
			<hr>
		</div>

	</div>
</div>


<th:block layout:fragment="script">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script type="text/JavaScript"
		src="https://MomentJS.com/downloads/moment-with-locales.js">
			</script>

	<script src="/js/remember.js"></script>
	<script src="/js/caruselRandom.js"></script>
	<script src="/js/carusel.js"></script>
	<script src="/js/search.js"></script>
</th:block>
</html>